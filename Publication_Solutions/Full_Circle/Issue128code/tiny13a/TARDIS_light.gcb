#CHIP tiny13a, 1.2
#OPTION Explicit
#DEFINE AVRTC0
#DEFINE AVRCHAN2
#DEFINE LED1 PortB.1
#OPTION Volatile LED1

Dim FREQ, DUTY_CYCLE As Byte
Dir LED1 Out
FREQ = 1
DUTY_CYCLE= 0

Do
    Repeat 25
        If DUTY_CYCLE >= 0 Then DUTY_CYCLE = DUTY_CYCLE + 10
        HPWM 2, FREQ, DUTY_CYCLE
        Wait 50 ms
    End Repeat

    Repeat 25
        If DUTY_CYCLE <= 255 Then DUTY_CYCLE = DUTY_CYCLE - 10
        HPWM 2, FREQ, DUTY_CYCLE
        Wait 50 ms
    End Repeat
Loop
