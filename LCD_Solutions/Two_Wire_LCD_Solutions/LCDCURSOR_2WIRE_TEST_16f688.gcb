'''A demonstration program for GCGB and GCB.
'''--------------------------------------------------------------------------------------------------------------------------------
'''This program is a Great Cow Basic implementation using two wires: LCD_IO 2 mode.
'''The data and clock lines. This mode is used when the LCD is connected through a shift register IC, as detailed in the GCB Help file.
'''This  method of driving an LCD requires an additional integrated circuit and other passive components.
'''This is not recommended for the beginner.
'''     Evan R. Venn based on the works of Thomas Henry and Mike Predko
'''@author  EvanV plus works of ThomasH and MikeP
'''@licence GPL
'''@version 1.0a
'''@date    31.08.2015
'''********************************************************************************

' ----- Configuration

#CHIP 16F886, 16


' or

'#chip 16F1938, 32
'


'Setup LCD Parameters
#DEFINE LCD_IO 2_74XX164
#DEFINE LCD_DB portb.2
#DEFINE LCD_CB portb.0
#DEFINE LCD_NO_RW

' ----- Main body of program commences here.
Do Forever
    CLS
    Wait 3 s
    Print "START TEST"
    Locate 1,0
    Print "DISPLAY ON"
    Wait 3 s

    CLS
    Locate 0,0
    Print "Cursor ON"
    Locate 1,0
    LCDCursor CURSORON
    Wait 3 s

    CLS
    LCDCursor CURSOROFF
    Locate 0,0
    Print "Cursor OFF"
    Wait 3 s

    CLS
    Locate 0,0
    Print "FLASH ON"
    Locate 1,0
    LCDCursor FLASHON
    Wait 3 s

    CLS
    Locate 0,0
    Print "FLASH OFF"
    LCDCursor FLASHOFF
    Wait 3 sec

    Locate 0,0
    Print "CURSR & FLSH ON"
    Locate 1,0
    LCDCursor CURSORON
    LCDCursor FLASHON
    Wait 3 sec

    Locate 0,0
    Print "CURSR & FLSH OFF"
    Locate 1,0
    LCDCursor CURSOROFF
    LCDCursor FLASHOFF
    Wait 3 sec

    CLS
    Locate 0,4
    Print "Flashing"
    Locate 1,4
    Print "Display"
    Wait 500 ms

    Repeat 10
        LCDCursor LCDOFF
        Wait 500 ms
        LCDCursor LCDON
        Wait 500 ms
    End Repeat

    CLS
    Locate 0,0
    Print "DISPLAY OFF"
    Locate 1,0
    Print "FOR 5 SEC"
    Wait 2 SEC
    LCDCursor LCDOFF
    Wait 5 s

    CLS
    Locate 0,0
    LCDCursor LCDON
    Print "END TEST"
    Wait 3 s

Loop
